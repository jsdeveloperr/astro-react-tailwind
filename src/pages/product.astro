---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';


const response = await fetch("https://jsonplaceholder.typicode.com/posts");
const products = await response.json();
---

  <Layout title="Ana Sayfa">
    <main class="p-8">
      <h1 class="text-2xl font-bold mb-4 text-center">İndirimli Ürünler</h1>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        {products.slice(0, 9).map((product) => (
          <a href={`/products/${product.id}`} class="bg-white shadow-lg p-4 rounded-lg" id={`product-${product.id}`} >
            <h2 class="text-lg font-semibold mt-2">{product.title}</h2>
            <p class="text-gray-600 mb-2">{product.body.slice(0, 50)}...</p>
            <p class="text-blue-600 font-bold">Fiyat: ₺{product.id * 10}</p>
            <button class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Sepete Ekle</button>
          </a>
        ))}
      </div>
    </main>
  </Layout>
